(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var r=e.i(43476),t=e.i(13293),s=e.i(67881),a=e.i(83086),l=e.i(25652),n=e.i(22016);function o(){return(0,r.jsxs)("section",{className:"relative border-b border-border",children:[(0,r.jsx)("div",{className:"container mx-auto px-4 py-16 md:py-24",children:(0,r.jsx)("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-primary/10 px-4 py-2 text-sm font-semibold text-primary border border-primary/20",children:[(0,r.jsx)(a.Sparkles,{className:"h-4 w-4"}),"Sonidos 100% Argentinos"]}),(0,r.jsxs)("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-black tracking-tight text-balance leading-[1.1]",children:["El marketplace de ",(0,r.jsx)("span",{className:"text-primary",children:"samples"})," de Argentina"]}),(0,r.jsx)("p",{className:"text-lg md:text-xl text-muted-foreground text-balance leading-relaxed",children:"Descubrí sonidos únicos creados por productores argentinos. Trap, reggaetón, cumbia y todos los géneros urbanos en un solo lugar."}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,r.jsxs)(s.Button,{size:"lg",className:"gap-2 text-base h-14 px-8 rounded-full bg-primary text-primary-foreground hover:bg-primary/90",children:[(0,r.jsx)(l.TrendingUp,{className:"h-5 w-5"}),"Explorar Packs"]}),(0,r.jsx)(n.default,{href:"/plans",children:(0,r.jsx)(s.Button,{size:"lg",variant:"outline",className:"text-base h-14 px-8 rounded-full bg-transparent",children:"Mejorar Plan"})})]})]})})}),(0,r.jsx)("div",{className:"bg-accent py-3 border-t border-border",children:(0,r.jsxs)("p",{className:"text-center text-xs text-muted-foreground",children:["Creado con ❤️ por ",(0,r.jsx)("span",{className:"font-bold text-foreground",children:"mixflp"})]})})]})}var i=e.i(70065),d=e.i(94179),c=e.i(31343),u=e.i(90597),m=e.i(71645),x=e.i(73084),p=e.i(38330);function h({pack:e}){let[t,a]=(0,m.useState)(!1),[l,o]=(0,m.useState)(!1),{playPack:h}=(0,x.useAudioPlayer)(),f=e=>new Intl.NumberFormat("es-AR",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),g=0===e.price,v=!g&&e.has_discount&&e.discount_percent&&e.discount_percent>0,b=v?Math.floor(e.price*(1-e.discount_percent/100)):e.price,j=e.producer_plan?(0,p.getPlanBadge)(e.producer_plan):null;return(0,r.jsxs)(i.Card,{className:"group overflow-hidden border border-border hover:border-primary/40 transition-all duration-300 hover:shadow-xl rounded-2xl bg-card",children:[(0,r.jsx)(n.default,{href:`/pack/${e.id}`,children:(0,r.jsxs)("div",{className:"relative aspect-square overflow-hidden bg-muted cursor-pointer",children:[(0,r.jsx)("img",{src:e.cover_image_url||"/placeholder.svg?height=400&width=400",alt:e.title,className:"object-cover w-full h-full group-hover:scale-110 transition-transform duration-500",crossOrigin:"anonymous"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:(0,r.jsx)(s.Button,{size:"lg",className:"rounded-full h-20 w-20 p-0 bg-primary text-primary-foreground shadow-2xl hover:scale-110 transition-transform",onClick:r=>{r.preventDefault(),e.demo_audio_url&&h({id:e.id,title:e.title,producer:e.profiles?.username||"Usuario",image:e.cover_image_url||"/placeholder.svg",audioUrl:e.demo_audio_url})},disabled:!e.demo_audio_url,children:(0,r.jsx)(c.Play,{className:"h-8 w-8 ml-1",fill:"currentColor"})})}),(0,r.jsx)(s.Button,{size:"icon",variant:"ghost",className:"absolute top-4 right-4 bg-background/90 backdrop-blur-sm hover:bg-background rounded-full h-10 w-10",onClick:e=>{e.preventDefault(),a(!t)},children:(0,r.jsx)(u.Heart,{className:`h-5 w-5 ${t?"fill-red-500 text-red-500":""}`})}),e.genre&&(0,r.jsx)(d.Badge,{className:"absolute top-4 left-4 bg-primary/90 backdrop-blur-sm text-primary-foreground font-bold px-3 py-1 rounded-full",children:e.genre}),v&&(0,r.jsxs)(d.Badge,{className:"absolute bottom-4 left-4 bg-orange-500/90 backdrop-blur-sm text-white font-bold px-3 py-1 rounded-full",children:[e.discount_percent,"% OFF"]})]})}),(0,r.jsxs)("div",{className:"p-5 space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(n.default,{href:`/pack/${e.id}`,children:(0,r.jsx)("h3",{className:"font-bold text-xl mb-1 text-foreground text-balance line-clamp-1 hover:text-primary transition-colors cursor-pointer",children:e.title})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground font-medium",children:e.profiles?.username||"Usuario"}),j&&(0,r.jsx)("span",{className:"text-base",children:j.icon})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground font-medium",children:[e.bpm&&(0,r.jsxs)("span",{className:"bg-accent px-3 py-1 rounded-full",children:[e.bpm," BPM"]}),e.tags&&e.tags.length>0&&(0,r.jsxs)(r.Fragment,{children:[e.tags.slice(0,2).map((e,t)=>(0,r.jsx)("span",{className:"bg-accent px-3 py-1 rounded-full",children:e},t)),e.tags.length>2&&(0,r.jsxs)("span",{className:"bg-accent px-3 py-1 rounded-full",children:["+",e.tags.length-2]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[g?(0,r.jsx)("div",{className:"text-3xl font-black text-green-600",children:"GRATIS"}):v?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-xl font-bold text-muted-foreground line-through",children:["$",f(e.price)]}),(0,r.jsxs)("div",{className:"text-3xl font-black text-primary",children:["$",f(b)]})]}):(0,r.jsxs)("div",{className:"text-3xl font-black text-foreground",children:["$",f(e.price)]}),!g&&(0,r.jsx)("div",{className:"text-xs font-medium text-muted-foreground",children:"ARS"})]})]})]})}var f=e.i(23750),g=e.i(62870),v=e.i(75254);let b=(0,v.default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var j=e.i(55436);let y=(0,v.default)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);var N=e.i(31278),w=e.i(20755);let k=["Todos","RKT","TRAP","REGGAETON","CUMBIA","CUMBIA VILLERA","DRILL","CUARTETO","DANCEHALL","LATIN URBANO","AFROTRAP","HIP HOP","DEMBOW"];function S(){let[e,t]=(0,m.useState)([]),[a,l]=(0,m.useState)(!0),[n,o]=(0,m.useState)("Todos"),[d,c]=(0,m.useState)(""),[u,x]=(0,m.useState)("recientes"),[p,v]=(0,m.useState)("todos"),[S,_]=(0,m.useState)("todos"),[C,P]=(0,m.useState)(!1),E=(0,w.createBrowserClient)();(0,m.useEffect)(()=>{(async()=>{l(!0);try{let e=E.from("packs").select(`
            *,
            profiles:user_id (
              username,
              display_name,
              avatar_url
            )
          `);"recientes"===u?e=e.order("created_at",{ascending:!1}):"populares"===u?e=e.order("downloads_count",{ascending:!1}):"precio-bajo"===u?e=e.order("price",{ascending:!0}):"precio-alto"===u&&(e=e.order("price",{ascending:!1}));let{data:r,error:s}=await e;if(s)return void console.error("[v0] Error fetching packs:",s);t(r||[])}catch(e){console.error("[v0] Error:",e)}finally{l(!1)}})()},[u,E]);let R=e.filter(e=>{let r="Todos"===n||e.genre===n,t=""===d||e.title.toLowerCase().includes(d.toLowerCase())||e.description?.toLowerCase().includes(d.toLowerCase())||e.genre?.toLowerCase().includes(d.toLowerCase())||e.profiles?.username?.toLowerCase().includes(d.toLowerCase()),s="todos"===p||"0-2000"===p&&e.price<=2e3||"2000-4000"===p&&e.price>2e3&&e.price<=4e3||"4000+"===p&&e.price>4e3,a="todos"===S||!e.bpm||"80-100"===S&&e.bpm>=80&&e.bpm<=100||"100-120"===S&&e.bpm>100&&e.bpm<=120||"120-140"===S&&e.bpm>120&&e.bpm<=140||"140+"===S&&e.bpm>140;return r&&t&&s&&a});return(0,r.jsx)("section",{id:"packs",className:"py-20 bg-background",children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-4xl md:text-5xl font-black text-foreground mb-3",children:"Explorar Packs"}),(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"Encontrá el sonido perfecto para tu próximo hit"})]}),(0,r.jsx)(i.Card,{className:"p-6 rounded-3xl border-border mb-8 bg-card",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(j.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,r.jsx)(f.Input,{type:"search",placeholder:"Buscar por nombre, productor o género...",value:d,onChange:e=>c(e.target.value),className:"pl-12 h-14 text-base rounded-2xl border-border bg-background"})]}),(0,r.jsxs)(s.Button,{variant:"outline",className:"w-full lg:hidden gap-2 rounded-xl h-11 bg-transparent",onClick:()=>P(!C),children:[(0,r.jsx)(y,{className:"h-4 w-4"}),C?"Ocultar Filtros":"Mostrar Filtros"]}),(0,r.jsxs)("div",{className:`grid grid-cols-1 lg:grid-cols-4 gap-3 ${C?"block":"hidden lg:grid"}`,children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide",children:"Ordenar por"}),(0,r.jsxs)(g.Select,{value:u,onValueChange:x,children:[(0,r.jsx)(g.SelectTrigger,{className:"h-11 rounded-xl bg-background border-border",children:(0,r.jsx)(g.SelectValue,{})}),(0,r.jsxs)(g.SelectContent,{children:[(0,r.jsx)(g.SelectItem,{value:"recientes",children:"Más Recientes"}),(0,r.jsx)(g.SelectItem,{value:"populares",children:"Más Populares"}),(0,r.jsx)(g.SelectItem,{value:"precio-bajo",children:"Precio: Menor a Mayor"}),(0,r.jsx)(g.SelectItem,{value:"precio-alto",children:"Precio: Mayor a Menor"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide",children:"Rango de Precio"}),(0,r.jsxs)(g.Select,{value:p,onValueChange:v,children:[(0,r.jsx)(g.SelectTrigger,{className:"h-11 rounded-xl bg-background border-border",children:(0,r.jsx)(g.SelectValue,{})}),(0,r.jsxs)(g.SelectContent,{children:[(0,r.jsx)(g.SelectItem,{value:"todos",children:"Todos los Precios"}),(0,r.jsx)(g.SelectItem,{value:"0-2000",children:"$0 - $2,000"}),(0,r.jsx)(g.SelectItem,{value:"2000-4000",children:"$2,000 - $4,000"}),(0,r.jsx)(g.SelectItem,{value:"4000+",children:"Más de $4,000"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide",children:"BPM"}),(0,r.jsxs)(g.Select,{value:S,onValueChange:_,children:[(0,r.jsx)(g.SelectTrigger,{className:"h-11 rounded-xl bg-background border-border",children:(0,r.jsx)(g.SelectValue,{})}),(0,r.jsxs)(g.SelectContent,{children:[(0,r.jsx)(g.SelectItem,{value:"todos",children:"Todos los BPM"}),(0,r.jsx)(g.SelectItem,{value:"80-100",children:"80-100 BPM"}),(0,r.jsx)(g.SelectItem,{value:"100-120",children:"100-120 BPM"}),(0,r.jsx)(g.SelectItem,{value:"120-140",children:"120-140 BPM"}),(0,r.jsx)(g.SelectItem,{value:"140+",children:"140+ BPM"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wide opacity-0 pointer-events-none",children:"Acción"}),(0,r.jsx)(s.Button,{variant:"outline",className:"w-full h-11 rounded-xl bg-transparent",onClick:()=>{c(""),o("Todos"),v("todos"),_("todos"),x("recientes")},children:"Limpiar Filtros"})]})]})]})}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,r.jsx)(b,{className:"h-4 w-4 text-primary"}),(0,r.jsx)("span",{className:"text-sm font-bold text-muted-foreground uppercase tracking-wide",children:"Géneros"})]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:k.map(e=>(0,r.jsx)(s.Button,{variant:n===e?"default":"outline",size:"lg",onClick:()=>o(e),className:"rounded-full font-semibold",children:e},e))})]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Mostrando ",(0,r.jsx)("span",{className:"font-bold text-foreground",children:R.length})," packs"]})}),a?(0,r.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,r.jsx)(N.Loader2,{className:"h-10 w-10 animate-spin text-primary"})}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:R.length>0?R.map(e=>(0,r.jsx)(h,{pack:e},e.id)):(0,r.jsxs)("div",{className:"col-span-full py-20 text-center",children:[(0,r.jsx)("p",{className:"text-xl text-muted-foreground mb-4",children:0===e.length?"Todavía no hay packs subidos. ¡Sé el primero en subir uno!":"No se encontraron packs con estos filtros"}),(0,r.jsx)(s.Button,{variant:"outline",onClick:()=>{c(""),o("Todos"),v("todos"),_("todos")},className:"rounded-full",children:0===e.length?"Subir mi Pack":"Limpiar Filtros"})]})}),R.length>0&&(0,r.jsx)("div",{className:"flex justify-center mt-16",children:(0,r.jsx)(s.Button,{variant:"outline",size:"lg",className:"rounded-full px-8 h-12 font-semibold bg-transparent",children:"Cargar más packs"})})]})})}var _=e.i(63270),C=e.i(70273),P=e.i(88844),E=e.i(61911);function R(){let[e,t]=(0,m.useState)([]),[s,a]=(0,m.useState)(!0),l=(0,w.createBrowserClient)();return((0,m.useEffect)(()=>{(async()=>{try{let{data:e,error:r}=await l.from("profiles").select("*").order("followers_count",{ascending:!1});if(r)return void console.error("[v0] Error fetching producers:",r);let s=(e||[]).map(e=>({id:e.id,username:e.username,bio:e.bio,avatar_url:e.avatar_url,followers_count:e.followers_count||0,packs_count:e.packs_count||0,plan_type:e.plan||"free"})).filter(e=>(0,p.hasPlanBadge)(e.plan_type)).sort((e,r)=>{let t={studio_plus:2,de_0_a_hit:1},s=t[e.plan_type||""]||0,a=t[r.plan_type||""]||0;return s!==a?a-s:r.followers_count-e.followers_count}).slice(0,6);t(s)}catch(e){console.error("[v0] Error:",e)}finally{a(!1)}})()},[l]),s)?(0,r.jsx)("section",{className:"py-20 bg-accent/30",children:(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,r.jsx)(N.Loader2,{className:"h-10 w-10 animate-spin text-primary"})})})}):0===e.length?null:(0,r.jsx)("section",{className:"py-20 bg-accent/30",children:(0,r.jsxs)("div",{className:"container mx-auto px-4",children:[(0,r.jsxs)("div",{className:"mb-12",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,r.jsx)(C.Star,{className:"h-6 w-6 text-primary"}),(0,r.jsx)("h2",{className:"text-4xl md:text-5xl font-black text-foreground",children:"Productores Destacados"})]}),(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"Conocé a los mejores creadores de sonidos de ARSOUND"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{let t=(0,p.getPlanBadge)(e.plan_type);return(0,r.jsx)(n.default,{href:`/profile/${e.username}`,children:(0,r.jsx)(i.Card,{className:"p-6 rounded-3xl border-border hover:border-primary/50 transition-all duration-300 hover:shadow-lg hover:shadow-primary/10 bg-card cursor-pointer group",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsxs)(_.Avatar,{className:"h-16 w-16 ring-2 ring-border group-hover:ring-primary transition-all",children:[(0,r.jsx)(_.AvatarImage,{src:e.avatar_url||"/placeholder.svg",alt:e.username}),(0,r.jsx)(_.AvatarFallback,{className:"bg-gradient-to-br from-primary to-secondary text-white font-bold text-lg",children:e.username?.[0]?.toUpperCase()||"U"})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("h3",{className:"font-black text-lg text-foreground truncate group-hover:text-primary transition-colors",children:e.username}),t&&(0,r.jsx)("span",{className:"text-xl flex-shrink-0",children:t.icon})]}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["@",e.username]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-xs mt-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(P.Package,{className:"h-3.5 w-3.5 text-primary"}),(0,r.jsx)("span",{className:"font-semibold text-foreground",children:e.packs_count||0}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"packs"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(E.Users,{className:"h-3.5 w-3.5 text-primary"}),(0,r.jsx)("span",{className:"font-semibold text-foreground",children:e.followers_count||0}),(0,r.jsx)("span",{className:"text-muted-foreground",children:"seguidores"})]})]})]})]})})},e.id)})}),(0,r.jsx)("div",{className:"flex justify-center mt-12",children:(0,r.jsx)(n.default,{href:"/producers",children:(0,r.jsx)("button",{className:"px-8 py-3 rounded-full font-bold text-base bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",children:"Ver Todos los Productores"})})})]})})}var A=e.i(70152),M=e.i(81140),B=e.i(20783),D=e.i(30030),I=e.i(69340),T=e.i(86318),L=e.i(99682),z=e.i(35804),U=e.i(48425),H=e.i(75830),$=["PageUp","PageDown"],F=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],O={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},V="Slider",[K,q,G]=(0,H.createCollection)(V),[X,Y]=(0,D.createContextScope)(V,[G]),[W,J]=X(V),Q=m.forwardRef((e,t)=>{let{name:s,min:a=0,max:l=100,step:n=1,orientation:o="horizontal",disabled:i=!1,minStepsBetweenThumbs:d=0,defaultValue:c=[a],value:u,onValueChange:x=()=>{},onValueCommit:p=()=>{},inverted:h=!1,form:f,...g}=e,v=m.useRef(new Set),b=m.useRef(0),j="horizontal"===o,[y=[],N]=(0,I.useControllableState)({prop:u,defaultProp:c,onChange:e=>{let r=[...v.current];r[b.current]?.focus(),x(e)}}),w=m.useRef(y);function k(e,r,{commit:t}={commit:!1}){let s,o=(String(n).split(".")[1]||"").length,i=Math.round((Math.round((e-a)/n)*n+a)*(s=Math.pow(10,o)))/s,c=(0,A.clamp)(i,[a,l]);N((e=[])=>{let s=function(e=[],r,t){let s=[...e];return s[t]=r,s.sort((e,r)=>e-r)}(e,c,r);if(!function(e,r){if(r>0)return Math.min(...e.slice(0,-1).map((r,t)=>e[t+1]-r))>=r;return!0}(s,d*n))return e;{b.current=s.indexOf(c);let r=String(s)!==String(e);return r&&t&&p(s),r?s:e}})}return(0,r.jsx)(W,{scope:e.__scopeSlider,name:s,disabled:i,min:a,max:l,valueIndexToChangeRef:b,thumbs:v.current,values:y,orientation:o,form:f,children:(0,r.jsx)(K.Provider,{scope:e.__scopeSlider,children:(0,r.jsx)(K.Slot,{scope:e.__scopeSlider,children:(0,r.jsx)(j?er:et,{"aria-disabled":i,"data-disabled":i?"":void 0,...g,ref:t,onPointerDown:(0,M.composeEventHandlers)(g.onPointerDown,()=>{i||(w.current=y)}),min:a,max:l,inverted:h,onSlideStart:i?void 0:function(e){let r=function(e,r){if(1===e.length)return 0;let t=e.map(e=>Math.abs(e-r)),s=Math.min(...t);return t.indexOf(s)}(y,e);k(e,r)},onSlideMove:i?void 0:function(e){k(e,b.current)},onSlideEnd:i?void 0:function(){let e=w.current[b.current];y[b.current]!==e&&p(y)},onHomeKeyDown:()=>!i&&k(a,0,{commit:!0}),onEndKeyDown:()=>!i&&k(l,y.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:r})=>{if(!i){let t=$.includes(e.key)||e.shiftKey&&F.includes(e.key),s=b.current;k(y[s]+n*(t?10:1)*r,s,{commit:!0})}}})})})})});Q.displayName=V;var[Z,ee]=X(V,{startEdge:"left",endEdge:"right",size:"width",direction:1}),er=m.forwardRef((e,t)=>{let{min:s,max:a,dir:l,inverted:n,onSlideStart:o,onSlideMove:i,onSlideEnd:d,onStepKeyDown:c,...u}=e,[x,p]=m.useState(null),h=(0,B.useComposedRefs)(t,e=>p(e)),f=m.useRef(void 0),g=(0,T.useDirection)(l),v="ltr"===g,b=v&&!n||!v&&n;function j(e){let r=f.current||x.getBoundingClientRect(),t=ex([0,r.width],b?[s,a]:[a,s]);return f.current=r,t(e-r.left)}return(0,r.jsx)(Z,{scope:e.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:(0,r.jsx)(es,{dir:g,"data-orientation":"horizontal",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let r=j(e.clientX);o?.(r)},onSlideMove:e=>{let r=j(e.clientX);i?.(r)},onSlideEnd:()=>{f.current=void 0,d?.()},onStepKeyDown:e=>{let r=O[b?"from-left":"from-right"].includes(e.key);c?.({event:e,direction:r?-1:1})}})})}),et=m.forwardRef((e,t)=>{let{min:s,max:a,inverted:l,onSlideStart:n,onSlideMove:o,onSlideEnd:i,onStepKeyDown:d,...c}=e,u=m.useRef(null),x=(0,B.useComposedRefs)(t,u),p=m.useRef(void 0),h=!l;function f(e){let r=p.current||u.current.getBoundingClientRect(),t=ex([0,r.height],h?[a,s]:[s,a]);return p.current=r,t(e-r.top)}return(0,r.jsx)(Z,{scope:e.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:(0,r.jsx)(es,{"data-orientation":"vertical",...c,ref:x,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let r=f(e.clientY);n?.(r)},onSlideMove:e=>{let r=f(e.clientY);o?.(r)},onSlideEnd:()=>{p.current=void 0,i?.()},onStepKeyDown:e=>{let r=O[h?"from-bottom":"from-top"].includes(e.key);d?.({event:e,direction:r?-1:1})}})})}),es=m.forwardRef((e,t)=>{let{__scopeSlider:s,onSlideStart:a,onSlideMove:l,onSlideEnd:n,onHomeKeyDown:o,onEndKeyDown:i,onStepKeyDown:d,...c}=e,u=J(V,s);return(0,r.jsx)(U.Primitive.span,{...c,ref:t,onKeyDown:(0,M.composeEventHandlers)(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(i(e),e.preventDefault()):$.concat(F).includes(e.key)&&(d(e),e.preventDefault())}),onPointerDown:(0,M.composeEventHandlers)(e.onPointerDown,e=>{let r=e.target;r.setPointerCapture(e.pointerId),e.preventDefault(),u.thumbs.has(r)?r.focus():a(e)}),onPointerMove:(0,M.composeEventHandlers)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&l(e)}),onPointerUp:(0,M.composeEventHandlers)(e.onPointerUp,e=>{let r=e.target;r.hasPointerCapture(e.pointerId)&&(r.releasePointerCapture(e.pointerId),n(e))})})}),ea="SliderTrack",el=m.forwardRef((e,t)=>{let{__scopeSlider:s,...a}=e,l=J(ea,s);return(0,r.jsx)(U.Primitive.span,{"data-disabled":l.disabled?"":void 0,"data-orientation":l.orientation,...a,ref:t})});el.displayName=ea;var en="SliderRange",eo=m.forwardRef((e,t)=>{let{__scopeSlider:s,...a}=e,l=J(en,s),n=ee(en,s),o=m.useRef(null),i=(0,B.useComposedRefs)(t,o),d=l.values.length,c=l.values.map(e=>em(e,l.min,l.max)),u=d>1?Math.min(...c):0,x=100-Math.max(...c);return(0,r.jsx)(U.Primitive.span,{"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,...a,ref:i,style:{...e.style,[n.startEdge]:u+"%",[n.endEdge]:x+"%"}})});eo.displayName=en;var ei="SliderThumb",ed=m.forwardRef((e,t)=>{let s=q(e.__scopeSlider),[a,l]=m.useState(null),n=(0,B.useComposedRefs)(t,e=>l(e)),o=m.useMemo(()=>a?s().findIndex(e=>e.ref.current===a):-1,[s,a]);return(0,r.jsx)(ec,{...e,ref:n,index:o})}),ec=m.forwardRef((e,t)=>{var s,a,l,n,o;let i,d,{__scopeSlider:c,index:u,name:x,...p}=e,h=J(ei,c),f=ee(ei,c),[g,v]=m.useState(null),b=(0,B.useComposedRefs)(t,e=>v(e)),j=!g||h.form||!!g.closest("form"),y=(0,z.useSize)(g),N=h.values[u],w=void 0===N?0:em(N,h.min,h.max),k=(s=u,(a=h.values.length)>2?`Value ${s+1} of ${a}`:2===a?["Minimum","Maximum"][s]:void 0),S=y?.[f.size],_=S?(l=S,n=w,o=f.direction,d=ex([0,50],[0,i=l/2]),(i-d(n)*o)*o):0;return m.useEffect(()=>{if(g)return h.thumbs.add(g),()=>{h.thumbs.delete(g)}},[g,h.thumbs]),(0,r.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[f.startEdge]:`calc(${w}% + ${_}px)`},children:[(0,r.jsx)(K.ItemSlot,{scope:e.__scopeSlider,children:(0,r.jsx)(U.Primitive.span,{role:"slider","aria-label":e["aria-label"]||k,"aria-valuemin":h.min,"aria-valuenow":N,"aria-valuemax":h.max,"aria-orientation":h.orientation,"data-orientation":h.orientation,"data-disabled":h.disabled?"":void 0,tabIndex:h.disabled?void 0:0,...p,ref:b,style:void 0===N?{display:"none"}:e.style,onFocus:(0,M.composeEventHandlers)(e.onFocus,()=>{h.valueIndexToChangeRef.current=u})})}),j&&(0,r.jsx)(eu,{name:x??(h.name?h.name+(h.values.length>1?"[]":""):void 0),form:h.form,value:N},u)]})});ed.displayName=ei;var eu=m.forwardRef(({__scopeSlider:e,value:t,...s},a)=>{let l=m.useRef(null),n=(0,B.useComposedRefs)(l,a),o=(0,L.usePrevious)(t);return m.useEffect(()=>{let e=l.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(o!==t&&r){let s=new Event("input",{bubbles:!0});r.call(e,t),e.dispatchEvent(s)}},[o,t]),(0,r.jsx)(U.Primitive.input,{style:{display:"none"},...s,ref:n,defaultValue:t})});function em(e,r,t){return(0,A.clamp)(100/(t-r)*(e-r),[0,100])}function ex(e,r){return t=>{if(e[0]===e[1]||r[0]===r[1])return r[0];let s=(r[1]-r[0])/(e[1]-e[0]);return r[0]+s*(t-e[0])}}eu.displayName="RadioBubbleInput";var ep=e.i(47163);function eh({className:e,defaultValue:t,value:s,min:a=0,max:l=100,...n}){let o=m.useMemo(()=>Array.isArray(s)?s:Array.isArray(t)?t:[a,l],[s,t,a,l]);return(0,r.jsxs)(Q,{"data-slot":"slider",defaultValue:t,value:s,min:a,max:l,className:(0,ep.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...n,children:[(0,r.jsx)(el,{"data-slot":"slider-track",className:"bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5",children:(0,r.jsx)(eo,{"data-slot":"slider-range",className:"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"})}),Array.from({length:o.length},(e,t)=>(0,r.jsx)(ed,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}let ef=(0,v.default)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),eg=(0,v.default)("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),ev=(0,v.default)("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),eb=(0,v.default)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);var ej=e.i(37727);function ey(){let{currentPack:e,isPlaying:t,togglePlay:a,closePlayer:l}=(0,x.useAudioPlayer)(),[n,o]=(0,m.useState)(0),[d,u]=(0,m.useState)(80),[p,h]=(0,m.useState)(0),[f,g]=(0,m.useState)(0),[v,b]=(0,m.useState)(!1),j=(0,m.useRef)(null),y=(0,w.createBrowserClient)();async function N(){if(e?.id&&!v)try{let{data:{user:r}}=await y.auth.getUser(),{data:t}=await y.from("packs").select("user_id").eq("id",e.id).single();if(t?.user_id===r?.id){console.log("[v0] Play not registered: user is pack owner"),b(!0);return}await y.from("pack_plays").insert({pack_id:e.id,user_id:r?.id||null,ip_address:null}),await y.rpc("increment_counter",{table_name:"packs",row_id:e.id,column_name:"total_plays_count"}).catch(e=>{console.error("[v0] Error incrementing total_plays_count:",e)}),console.log("[v0] Play registered for pack:",e.id),b(!0)}catch(e){console.error("[v0] Error registering play:",e)}}if((0,m.useEffect)(()=>{if(e?.audioUrl)return b(!1),j.current||(j.current=new Audio,j.current.preload="metadata",j.current.addEventListener("loadedmetadata",()=>{g(j.current?.duration||0)}),j.current.addEventListener("timeupdate",()=>{j.current&&(h(j.current.currentTime),o(j.current.currentTime/j.current.duration*100))}),j.current.addEventListener("ended",()=>{o(0),h(0),a()})),j.current.src=e.audioUrl,j.current.load(),()=>{j.current&&j.current.pause()}},[e?.audioUrl]),(0,m.useEffect)(()=>{e&&!v&&n>=30&&!v&&N()},[n,e,v]),(0,m.useEffect)(()=>{j.current&&(t?j.current.play().catch(console.error):j.current.pause())},[t]),(0,m.useEffect)(()=>{j.current&&(j.current.volume=d/100)},[d]),!e)return null;let k=e=>{if(!e||isNaN(e))return"0:00";let r=Math.floor(e/60),t=Math.floor(e%60);return`${r}:${t.toString().padStart(2,"0")}`};return(0,r.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-border bg-card/95 backdrop-blur-lg supports-[backdrop-filter]:bg-card/80",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-3",children:(0,r.jsx)(i.Card,{className:"border-0 shadow-none bg-transparent",children:(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-xs text-muted-foreground min-w-[40px]",children:k(p)}),(0,r.jsx)(eh,{value:[n],onValueChange:e=>{let r=e[0];if(o(r),j.current&&f){let e=r/100*f;j.current.currentTime=e,h(e)}},max:100,step:.1,className:"flex-1"}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground min-w-[40px]",children:k(f)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,r.jsx)("img",{src:e.image||"/placeholder.svg",alt:e.title,className:"h-12 w-12 rounded object-cover"}),(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsx)("h4",{className:"font-semibold text-sm text-foreground truncate",children:e.title}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:e.producer})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(s.Button,{size:"icon",variant:"ghost",className:"h-8 w-8",children:(0,r.jsx)(eg,{className:"h-4 w-4"})}),(0,r.jsx)(s.Button,{size:"icon",className:"h-10 w-10 rounded-full",onClick:a,children:t?(0,r.jsx)(ef,{className:"h-4 w-4",fill:"currentColor"}):(0,r.jsx)(c.Play,{className:"h-4 w-4 ml-0.5",fill:"currentColor"})}),(0,r.jsx)(s.Button,{size:"icon",variant:"ghost",className:"h-8 w-8",children:(0,r.jsx)(ev,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 flex-1 justify-end",children:[(0,r.jsxs)("div",{className:"hidden md:flex items-center gap-2 w-32",children:[(0,r.jsx)(eb,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsx)(eh,{value:[d],onValueChange:e=>u(e[0]),max:100,step:1})]}),(0,r.jsx)(s.Button,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:l,children:(0,r.jsx)(ej.X,{className:"h-4 w-4"})})]})]})]})})})})}var eN=e.i(76841);function ew(){let[e,s]=(0,m.useState)(!0),[a,l]=(0,m.useState)([]),n=(0,w.createClient)();return(0,m.useEffect)(()=>{!async function(){try{let{data:e,error:r}=await n.from("profiles").select("id, username, avatar_url, bio, followers_count").order("followers_count",{ascending:!1}).limit(6);if(r)throw r;l(e||[])}catch(e){console.error("Error fetching producers:",e),l([])}finally{s(!1)}}()},[]),(0,r.jsxs)("div",{className:"min-h-screen",children:[(0,r.jsx)(t.Header,{}),(0,r.jsx)(o,{}),(0,r.jsx)(S,{}),(0,r.jsx)(R,{}),(0,r.jsx)(ey,{}),(0,r.jsx)(eN.Footer,{})]})}e.s(["default",()=>ew],31713)}]);