(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},81566,e=>{"use strict";var t=e.i(43476),s=e.i(18566),r=e.i(71645),a=e.i(67881);let o=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var c=e.i(31278);function l(){let e=(0,s.useSearchParams)(),l=(0,s.useRouter)(),[i,n]=(0,r.useState)("processing"),[d,m]=(0,r.useState)("Procesando tu pago...");return(0,r.useEffect)(()=>{(async()=>{try{let t=e.get("collection_id"),s=e.get("external_reference"),r=e.get("collection_status"),a=e.get("payment_id");if(console.log("[v0] Payment success page loaded with params:",{collectionId:t,externalReference:s,collectionStatus:r,paymentId:a}),"approved"!==r){n("error"),m("El pago fue rechazado o aún está pendiente");return}await new Promise(e=>setTimeout(e,2e3)),s?.includes("plan_")?(n("success"),m("¡Plan actualizado exitosamente! Redirigiendo..."),setTimeout(()=>l.push("/profile"),3e3)):s?.includes("pack_")?(n("success"),m("¡Pack comprado exitosamente! Redirigiendo..."),setTimeout(()=>l.push("/profile"),3e3)):(n("error"),m("No se pudo identificar el tipo de compra"))}catch(e){console.error("[v0] Error processing payment:",e),n("error"),m("Hubo un error procesando tu pago. Por favor contacta a soporte.")}})()},[e,l]),(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-background to-muted p-4",children:(0,t.jsx)("div",{className:"w-full max-w-md",children:(0,t.jsxs)("div",{className:"bg-card rounded-lg shadow-lg p-8 text-center",children:["processing"===i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Loader2,{className:"w-16 h-16 mx-auto mb-4 text-primary animate-spin"}),(0,t.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Procesando"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:d})]}),"success"===i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o,{className:"w-16 h-16 mx-auto mb-4 text-green-500"}),(0,t.jsx)("h1",{className:"text-2xl font-bold mb-2 text-green-600",children:"¡Éxito!"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:d}),(0,t.jsx)(a.Button,{onClick:()=>l.push("/profile"),className:"w-full",children:"Ir a mi perfil"})]}),"error"===i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 text-red-500 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-4xl",children:"✕"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold mb-2 text-red-600",children:"Error"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:d}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(a.Button,{variant:"outline",onClick:()=>l.back(),className:"flex-1",children:"Volver"}),(0,t.jsx)(a.Button,{onClick:()=>l.push("/profile"),className:"flex-1",children:"Mi perfil"})]})]})]})})})}e.s(["default",()=>l],81566)}]);