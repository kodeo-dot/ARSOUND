{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/benii/Downloads/ARSOUND%20-%20DEMO%20WEB/app/plans/actions.ts"],"sourcesContent":["\"use server\"\n\nimport { createServerClient } from \"@/lib/supabase/server-client\"\n\n/**\n * Server action to handle plan selection\n * Creates a Mercado Pago preference and redirects to checkout\n */\nexport async function selectPlan(planId: string) {\n  const supabase = await createServerClient()\n\n  const {\n    data: { user },\n  } = await supabase.auth.getUser()\n\n  if (!user) {\n    return { success: false, message: \"Por favor inicia sesión para continuar\" }\n  }\n\n  try {\n    if (!planId || planId === \"free\") {\n      return { success: false, message: \"Plan inválido\" }\n    }\n\n    const response = await fetch(`${process.env.NEXT_PUBLIC_APP_URL}/api/mercadopago/create-preference`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ planType: planId }),\n    })\n\n    const text = await response.text()\n    if (!response.ok) {\n      console.error(\"[v0] Mercado Pago API error (raw):\", text)\n      return { success: false, message: \"Error al crear la preferencia de pago. Intenta de nuevo.\" }\n    }\n\n    const data = JSON.parse(text)\n\n    if (!data.init_point) {\n      console.error(\"[v0] No init_point in response:\", data)\n      return { success: false, message: \"Error al procesar el pago. Intenta de nuevo.\" }\n    }\n\n    return { success: true, init_point: data.init_point, preferenceId: data.preference_id }\n  } catch (error) {\n    console.error(\"[v0] Error in selectPlan:\", error)\n    return { success: false, message: \"Error al crear la preferencia de pago\" }\n  }\n}\n\n/**\n * Server action to purchase a pack\n * Creates a Mercado Pago preference for pack purchase\n */\nexport async function purchasePack(packId: string, discountCode?: string) {\n  const supabase = await createServerClient()\n\n  const {\n    data: { user },\n  } = await supabase.auth.getUser()\n\n  if (!user) {\n    return { success: false, message: \"Por favor inicia sesión para continuar\" }\n  }\n\n  try {\n    const response = await fetch(`${process.env.NEXT_PUBLIC_APP_URL}/api/mercadopago/create-preference`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        packId,\n        discountCode: discountCode || null,\n      }),\n    })\n\n    const text = await response.text()\n    if (!response.ok) {\n      console.error(\"[v0] Mercado Pago API error:\", text)\n      return { success: false, message: \"Error al crear la preferencia de pago. Intenta de nuevo.\" }\n    }\n\n    const data = JSON.parse(text)\n\n    if (!data.init_point) {\n      console.error(\"[v0] No init_point in response:\", data)\n      return { success: false, message: \"Error al procesar el pago. Intenta de nuevo.\" }\n    }\n\n    return { success: true, init_point: data.init_point, preferenceId: data.preference_id }\n  } catch (error) {\n    console.error(\"[v0] Error in purchasePack:\", error)\n    return { success: false, message: \"Error al crear la preferencia de pago\" }\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAQsB,aAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/benii/Downloads/ARSOUND%20-%20DEMO%20WEB/app/plans/actions.ts"],"sourcesContent":["\"use server\"\n\nimport { createServerClient } from \"@/lib/supabase/server-client\"\n\n/**\n * Server action to handle plan selection\n * Creates a Mercado Pago preference and redirects to checkout\n */\nexport async function selectPlan(planId: string) {\n  const supabase = await createServerClient()\n\n  const {\n    data: { user },\n  } = await supabase.auth.getUser()\n\n  if (!user) {\n    return { success: false, message: \"Por favor inicia sesión para continuar\" }\n  }\n\n  try {\n    if (!planId || planId === \"free\") {\n      return { success: false, message: \"Plan inválido\" }\n    }\n\n    const response = await fetch(`${process.env.NEXT_PUBLIC_APP_URL}/api/mercadopago/create-preference`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ planType: planId }),\n    })\n\n    const text = await response.text()\n    if (!response.ok) {\n      console.error(\"[v0] Mercado Pago API error (raw):\", text)\n      return { success: false, message: \"Error al crear la preferencia de pago. Intenta de nuevo.\" }\n    }\n\n    const data = JSON.parse(text)\n\n    if (!data.init_point) {\n      console.error(\"[v0] No init_point in response:\", data)\n      return { success: false, message: \"Error al procesar el pago. Intenta de nuevo.\" }\n    }\n\n    return { success: true, init_point: data.init_point, preferenceId: data.preference_id }\n  } catch (error) {\n    console.error(\"[v0] Error in selectPlan:\", error)\n    return { success: false, message: \"Error al crear la preferencia de pago\" }\n  }\n}\n\n/**\n * Server action to purchase a pack\n * Creates a Mercado Pago preference for pack purchase\n */\nexport async function purchasePack(packId: string, discountCode?: string) {\n  const supabase = await createServerClient()\n\n  const {\n    data: { user },\n  } = await supabase.auth.getUser()\n\n  if (!user) {\n    return { success: false, message: \"Por favor inicia sesión para continuar\" }\n  }\n\n  try {\n    const response = await fetch(`${process.env.NEXT_PUBLIC_APP_URL}/api/mercadopago/create-preference`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        packId,\n        discountCode: discountCode || null,\n      }),\n    })\n\n    const text = await response.text()\n    if (!response.ok) {\n      console.error(\"[v0] Mercado Pago API error:\", text)\n      return { success: false, message: \"Error al crear la preferencia de pago. Intenta de nuevo.\" }\n    }\n\n    const data = JSON.parse(text)\n\n    if (!data.init_point) {\n      console.error(\"[v0] No init_point in response:\", data)\n      return { success: false, message: \"Error al procesar el pago. Intenta de nuevo.\" }\n    }\n\n    return { success: true, init_point: data.init_point, preferenceId: data.preference_id }\n  } catch (error) {\n    console.error(\"[v0] Error in purchasePack:\", error)\n    return { success: false, message: \"Error al crear la preferencia de pago\" }\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAsDsB,eAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/benii/Downloads/ARSOUND%20-%20DEMO%20WEB/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"AAAA,gFAAgF;AAChF,0BAA0B;;;;;;;;;;;;;;;;IAEjBA,UAAU,EAAA;eAAVA,eAAAA,UAAU;;IAMVC,qBAAqB,EAAA;eAArBA,QAAAA,qBAAqB;;IALrBC,gBAAgB,EAAA;eAAhBA,qBAAAA,gBAAgB;;;+BADE;qCACM;wBAKK","ignoreList":[0],"debugId":null}}]
}