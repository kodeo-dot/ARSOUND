module.exports=[57181,a=>{"use strict";let b,c,d,e;var f=a.i(87924),g=a.i(70382),h=a.i(28887),i=a.i(40695),j=a.i(5522),k=a.i(17171),l=a.i(3130),m=a.i(73320),n=a.i(79165),o=a.i(96221),p=a.i(70106);let q=(0,p.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),r=(0,p.default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var s=a.i(27275);let t=(0,p.default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var u=a.i(72131),v=a.i(69240),w=a.i(50944),x=a.i(77687),y=a.i(50104),z=a.i(70121),A=a.i(7554),B=a.i(92843),C=a.i(25152),D=a.i(96743),E=a.i(22297),F=a.i(92616),G=a.i(77192),H=a.i(30553),I=a.i(86228),J=a.i(52081),K=a.i(41852),L=Symbol("radix.slottable");function M(a){return u.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===L}var N="Dialog",[O,P]=(0,y.createContextScope)(N),[Q,R]=O(N),S=a=>{let{__scopeDialog:b,children:c,open:d,defaultOpen:e,onOpenChange:g,modal:h=!0}=a,i=u.useRef(null),j=u.useRef(null),[k,l]=(0,C.useControllableState)({prop:d,defaultProp:e??!1,onChange:g,caller:N});return(0,f.jsx)(Q,{scope:b,triggerRef:i,contentRef:j,contentId:(0,B.useId)(),titleId:(0,B.useId)(),descriptionId:(0,B.useId)(),open:k,onOpenChange:l,onOpenToggle:u.useCallback(()=>l(a=>!a),[l]),modal:h,children:c})};S.displayName=N;var T="DialogTrigger",U=u.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=R(T,c),g=(0,z.useComposedRefs)(b,e.triggerRef);return(0,f.jsx)(H.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":e.open,"aria-controls":e.contentId,"data-state":am(e.open),...d,ref:g,onClick:(0,A.composeEventHandlers)(a.onClick,e.onOpenToggle)})});U.displayName=T;var V="DialogPortal",[W,X]=O(V,{forceMount:void 0}),Y=a=>{let{__scopeDialog:b,forceMount:c,children:d,container:e}=a,g=R(V,b);return(0,f.jsx)(W,{scope:b,forceMount:c,children:u.Children.map(d,a=>(0,f.jsx)(G.Presence,{present:c||g.open,children:(0,f.jsx)(F.Portal,{asChild:!0,container:e,children:a})}))})};Y.displayName=V;var Z="DialogOverlay",$=u.forwardRef((a,b)=>{let c=X(Z,a.__scopeDialog),{forceMount:d=c.forceMount,...e}=a,g=R(Z,a.__scopeDialog);return g.modal?(0,f.jsx)(G.Presence,{present:d||g.open,children:(0,f.jsx)(aa,{...e,ref:b})}):null});$.displayName=Z;var _=((e=u.forwardRef((a,b)=>{let{children:c,...d}=a;if(u.isValidElement(c)){var e;let a,f,g=(e=c,(f=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(f=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),h=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==u.Fragment&&(h.ref=b?(0,z.composeRefs)(b,g):g),u.cloneElement(c,h)}return u.Children.count(c)>1?u.Children.only(null):null})).displayName="DialogOverlay.RemoveScroll.SlotClone",b=e,(c=u.forwardRef((a,c)=>{let{children:d,...e}=a,g=u.Children.toArray(d),h=g.find(M);if(h){let a=h.props.children,d=g.map(b=>b!==h?b:u.Children.count(a)>1?u.Children.only(null):u.isValidElement(a)?a.props.children:null);return(0,f.jsx)(b,{...e,ref:c,children:u.isValidElement(a)?u.cloneElement(a,void 0,d):null})}return(0,f.jsx)(b,{...e,ref:c,children:d})})).displayName="DialogOverlay.RemoveScroll.Slot",c),aa=u.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=R(Z,c);return(0,f.jsx)(J.RemoveScroll,{as:_,allowPinchZoom:!0,shards:[e.contentRef],children:(0,f.jsx)(H.Primitive.div,{"data-state":am(e.open),...d,ref:b,style:{pointerEvents:"auto",...d.style}})})}),ab="DialogContent",ac=u.forwardRef((a,b)=>{let c=X(ab,a.__scopeDialog),{forceMount:d=c.forceMount,...e}=a,g=R(ab,a.__scopeDialog);return(0,f.jsx)(G.Presence,{present:d||g.open,children:g.modal?(0,f.jsx)(ad,{...e,ref:b}):(0,f.jsx)(ae,{...e,ref:b})})});ac.displayName=ab;var ad=u.forwardRef((a,b)=>{let c=R(ab,a.__scopeDialog),d=u.useRef(null),e=(0,z.useComposedRefs)(b,c.contentRef,d);return u.useEffect(()=>{let a=d.current;if(a)return(0,K.hideOthers)(a)},[]),(0,f.jsx)(af,{...a,ref:e,trapFocus:c.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,A.composeEventHandlers)(a.onCloseAutoFocus,a=>{a.preventDefault(),c.triggerRef.current?.focus()}),onPointerDownOutside:(0,A.composeEventHandlers)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;(2===b.button||c)&&a.preventDefault()}),onFocusOutside:(0,A.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault())})}),ae=u.forwardRef((a,b)=>{let c=R(ab,a.__scopeDialog),d=u.useRef(!1),e=u.useRef(!1);return(0,f.jsx)(af,{...a,ref:b,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(d.current||c.triggerRef.current?.focus(),b.preventDefault()),d.current=!1,e.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(d.current=!0,"pointerdown"===b.detail.originalEvent.type&&(e.current=!0));let f=b.target;c.triggerRef.current?.contains(f)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&e.current&&b.preventDefault()}})}),af=u.forwardRef((a,b)=>{let{__scopeDialog:c,trapFocus:d,onOpenAutoFocus:e,onCloseAutoFocus:g,...h}=a,i=R(ab,c),j=u.useRef(null),k=(0,z.useComposedRefs)(b,j);return(0,I.useFocusGuards)(),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(E.FocusScope,{asChild:!0,loop:!0,trapped:d,onMountAutoFocus:e,onUnmountAutoFocus:g,children:(0,f.jsx)(D.DismissableLayer,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":am(i.open),...h,ref:k,onDismiss:()=>i.onOpenChange(!1)})}),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(aq,{titleId:i.titleId}),(0,f.jsx)(ar,{contentRef:j,descriptionId:i.descriptionId})]})]})}),ag="DialogTitle",ah=u.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=R(ag,c);return(0,f.jsx)(H.Primitive.h2,{id:e.titleId,...d,ref:b})});ah.displayName=ag;var ai="DialogDescription",aj=u.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=R(ai,c);return(0,f.jsx)(H.Primitive.p,{id:e.descriptionId,...d,ref:b})});aj.displayName=ai;var ak="DialogClose",al=u.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,e=R(ak,c);return(0,f.jsx)(H.Primitive.button,{type:"button",...d,ref:b,onClick:(0,A.composeEventHandlers)(a.onClick,()=>e.onOpenChange(!1))})});function am(a){return a?"open":"closed"}al.displayName=ak;var an="DialogTitleWarning",[ao,ap]=(0,y.createContext)(an,{contentName:ab,titleName:ag,docsSlug:"dialog"}),aq=({titleId:a})=>{let b=ap(an),c=`\`${b.contentName}\` requires a \`${b.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${b.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${b.docsSlug}`;return u.useEffect(()=>{a&&(document.getElementById(a)||console.error(c))},[c,a]),null},ar=({contentRef:a,descriptionId:b})=>{let c=ap("DialogDescriptionWarning"),d=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c.contentName}}.`;return u.useEffect(()=>{let c=a.current?.getAttribute("aria-describedby");b&&c&&(document.getElementById(b)||console.warn(d))},[d,a,b]),null},as=Symbol("radix.slottable"),at="AlertDialog",[au,av]=(0,y.createContextScope)(at,[P]),aw=P(),ax=a=>{let{__scopeAlertDialog:b,...c}=a,d=aw(b);return(0,f.jsx)(S,{...d,...c,modal:!0})};ax.displayName=at;var ay=u.forwardRef((a,b)=>{let{__scopeAlertDialog:c,...d}=a,e=aw(c);return(0,f.jsx)(U,{...e,...d,ref:b})});ay.displayName="AlertDialogTrigger";var az=a=>{let{__scopeAlertDialog:b,...c}=a,d=aw(b);return(0,f.jsx)(Y,{...d,...c})};az.displayName="AlertDialogPortal";var aA=u.forwardRef((a,b)=>{let{__scopeAlertDialog:c,...d}=a,e=aw(c);return(0,f.jsx)($,{...e,...d,ref:b})});aA.displayName="AlertDialogOverlay";var aB="AlertDialogContent",[aC,aD]=au(aB),aE=((d=({children:a})=>(0,f.jsx)(f.Fragment,{children:a})).displayName="AlertDialogContent.Slottable",d.__radixId=as,d),aF=u.forwardRef((a,b)=>{let{__scopeAlertDialog:c,children:d,...e}=a,g=aw(c),h=u.useRef(null),i=(0,z.useComposedRefs)(b,h),j=u.useRef(null);return(0,f.jsx)(ao,{contentName:aB,titleName:aG,docsSlug:"alert-dialog",children:(0,f.jsx)(aC,{scope:c,cancelRef:j,children:(0,f.jsxs)(ac,{role:"alertdialog",...g,...e,ref:i,onOpenAutoFocus:(0,A.composeEventHandlers)(e.onOpenAutoFocus,a=>{a.preventDefault(),j.current?.focus({preventScroll:!0})}),onPointerDownOutside:a=>a.preventDefault(),onInteractOutside:a=>a.preventDefault(),children:[(0,f.jsx)(aE,{children:d}),(0,f.jsx)(aN,{contentRef:h})]})})})});aF.displayName=aB;var aG="AlertDialogTitle",aH=u.forwardRef((a,b)=>{let{__scopeAlertDialog:c,...d}=a,e=aw(c);return(0,f.jsx)(ah,{...e,...d,ref:b})});aH.displayName=aG;var aI="AlertDialogDescription",aJ=u.forwardRef((a,b)=>{let{__scopeAlertDialog:c,...d}=a,e=aw(c);return(0,f.jsx)(aj,{...e,...d,ref:b})});aJ.displayName=aI;var aK=u.forwardRef((a,b)=>{let{__scopeAlertDialog:c,...d}=a,e=aw(c);return(0,f.jsx)(al,{...e,...d,ref:b})});aK.displayName="AlertDialogAction";var aL="AlertDialogCancel",aM=u.forwardRef((a,b)=>{let{__scopeAlertDialog:c,...d}=a,{cancelRef:e}=aD(aL,c),g=aw(c),h=(0,z.useComposedRefs)(b,e);return(0,f.jsx)(al,{...g,...d,ref:h})});aM.displayName=aL;var aN=({contentRef:a})=>{let b=`\`${aB}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${aB}\` by passing a \`${aI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${aB}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{document.getElementById(a.current?.getAttribute("aria-describedby"))||console.warn(b)},[b,a]),null},aO=a.i(97895);function aP({...a}){return(0,f.jsx)(ax,{"data-slot":"alert-dialog",...a})}function aQ({...a}){return(0,f.jsx)(ay,{"data-slot":"alert-dialog-trigger",...a})}function aR({...a}){return(0,f.jsx)(az,{"data-slot":"alert-dialog-portal",...a})}function aS({className:a,...b}){return(0,f.jsx)(aA,{"data-slot":"alert-dialog-overlay",className:(0,aO.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...b})}function aT({className:a,...b}){return(0,f.jsxs)(aR,{children:[(0,f.jsx)(aS,{}),(0,f.jsx)(aF,{"data-slot":"alert-dialog-content",className:(0,aO.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...b})]})}function aU({className:a,...b}){return(0,f.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,aO.cn)("flex flex-col gap-2 text-center sm:text-left",a),...b})}function aV({className:a,...b}){return(0,f.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,aO.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...b})}function aW({className:a,...b}){return(0,f.jsx)(aH,{"data-slot":"alert-dialog-title",className:(0,aO.cn)("text-lg font-semibold",a),...b})}function aX({className:a,...b}){return(0,f.jsx)(aJ,{"data-slot":"alert-dialog-description",className:(0,aO.cn)("text-muted-foreground text-sm",a),...b})}function aY({className:a,...b}){return(0,f.jsx)(aK,{className:(0,aO.cn)((0,i.buttonVariants)(),a),...b})}function aZ({className:a,...b}){return(0,f.jsx)(aM,{className:(0,aO.cn)((0,i.buttonVariants)({variant:"outline"}),a),...b})}var a$=a.i(89510);function a_(){let a=(0,w.useParams)(),b=(0,w.useRouter)(),c=a.id,d=(0,v.createBrowserClient)(),[e,p]=(0,u.useState)(!0),[y,z]=(0,u.useState)(!1),[A,B]=(0,u.useState)(!1),[C,D]=(0,u.useState)(null),[E,F]=(0,u.useState)(null),[G,H]=(0,u.useState)("free"),[I,J]=(0,u.useState)(""),[K,L]=(0,u.useState)(""),[M,N]=(0,u.useState)(null),[O,P]=(0,u.useState)(null);(0,u.useEffect)(()=>{Q()},[]);let Q=async()=>{try{let{data:{user:a}}=await d.auth.getUser();if(!a)return void b.push("/login");F(a);let{data:e}=await d.from("profiles").select("plan").eq("id",a.id).single();e?.plan&&H(e.plan);let{data:f,error:g}=await d.from("packs").select("*").eq("id",c).single();if(g)throw g;if(f.user_id!==a.id){(0,x.toast)({title:"Acceso denegado",description:"No tenés permiso para editar este pack",variant:"destructive"}),b.push(`/pack/${c}`);return}D(f),J(f.price.toString()),L(f.discount_percent?.toString()||""),P(f.cover_image_url)}catch(a){console.error("Error loading pack:",a),(0,x.toast)({title:"Error",description:"No se pudo cargar el pack",variant:"destructive"}),b.push("/")}finally{p(!1)}},R=async a=>{let b=a.name.split(".").pop(),c=`${E.id}/covers/${Date.now()}.${b}`,{error:e}=await d.storage.from("samplepacks").upload(c,a,{cacheControl:"3600",upsert:!1});if(e)throw e;let{data:{publicUrl:f}}=d.storage.from("samplepacks").getPublicUrl(c);return f},S=async()=>{try{z(!0);let a=Number.parseInt(I),e=Number.parseInt(K)||0;if(a<0||a>65e3)return void(0,x.toast)({title:"Error",description:`El precio debe estar entre $0 y $${65e3.toLocaleString()}`,variant:"destructive"});if(e<0||e>50)return void(0,x.toast)({title:"Error",description:"El descuento debe estar entre 0% y 50%",variant:"destructive"});let f=C.cover_image_url;M&&(f=await R(M));let{error:g}=await d.from("packs").update({price:a,discount_percent:e,has_discount:e>0,cover_image_url:f}).eq("id",c);if(g)throw g;(0,x.toast)({title:"Pack actualizado",description:"Los cambios se guardaron exitosamente"}),b.push(`/pack/${c}`)}catch(a){console.error("Error saving pack:",a),(0,x.toast)({title:"Error al guardar",description:a.message||"Intenta de nuevo más tarde",variant:"destructive"})}finally{z(!1)}},T=async()=>{try{B(!0);let{error:a}=await d.from("pack_uploads").update({deleted_at:new Date().toISOString()}).eq("pack_id",c).eq("user_id",E.id);a&&console.error("Error marking upload as deleted:",a);let{error:e}=await d.from("packs").delete().eq("id",c);if(e)throw e;(0,x.toast)({title:"Pack eliminado",description:"El pack se eliminó correctamente"}),b.push("/profile")}catch(a){console.error("Error deleting pack:",a),(0,x.toast)({title:"Error al eliminar",description:a.message||"Intenta de nuevo más tarde",variant:"destructive"})}finally{B(!1)}};if(e)return(0,f.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,f.jsx)(g.Header,{}),(0,f.jsx)("main",{className:"flex-1 container mx-auto px-4 py-12 flex items-center justify-center",children:(0,f.jsx)(o.Loader2,{className:"h-12 w-12 animate-spin text-primary"})}),(0,f.jsx)(h.Footer,{})]});if(!C)return null;let U=Number.parseFloat(I)||0,V=Number.parseFloat(K)||0,W=U*V/100,X=U-W,Y=a$.PLAN_FEATURES[G].commission,Z=X*Y;return(0,f.jsxs)("div",{className:"min-h-screen flex flex-col bg-background",children:[(0,f.jsx)(g.Header,{}),(0,f.jsx)("main",{className:"flex-1 container mx-auto px-4 py-16",children:(0,f.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,f.jsxs)("div",{className:"space-y-3 mb-12",children:[(0,f.jsx)("h1",{className:"text-4xl md:text-5xl font-black text-foreground",children:"Editar Pack"}),(0,f.jsx)("p",{className:"text-lg text-muted-foreground",children:"Modificá la portada, precio y descuento de tu pack"}),(0,f.jsx)("p",{className:"text-sm text-muted-foreground italic",children:"Nota: El nombre del pack no se puede editar"})]}),(0,f.jsxs)("div",{className:"space-y-8",children:[(0,f.jsx)(l.Card,{className:"p-6 rounded-3xl border-border bg-accent/30",children:(0,f.jsxs)("div",{className:"flex items-center gap-4",children:[C.cover_image_url&&(0,f.jsx)("img",{src:C.cover_image_url||"/placeholder.svg",alt:C.title,className:"w-20 h-20 rounded-xl object-cover"}),(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsx)("h2",{className:"text-2xl font-black text-foreground",children:C.title}),(0,f.jsx)("p",{className:"text-sm text-muted-foreground",children:C.genre})]})]})}),(0,f.jsxs)("div",{className:"space-y-4",children:[(0,f.jsxs)(k.Label,{htmlFor:"cover",className:"text-lg font-bold flex items-center gap-2 text-foreground",children:[(0,f.jsx)(n.ImageIcon,{className:"h-5 w-5 text-primary"}),"Cambiar Portada"]}),(0,f.jsxs)("div",{className:"border-2 border-dashed border-border rounded-2xl p-12 hover:border-primary/50 transition-all bg-card",children:[(0,f.jsx)("input",{id:"cover",type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];if(b){N(b);let a=new FileReader;a.onloadend=()=>{P(a.result)},a.readAsDataURL(b)}},className:"hidden",disabled:y}),(0,f.jsx)("label",{htmlFor:"cover",className:"flex flex-col items-center justify-center cursor-pointer",children:O?(0,f.jsxs)("div",{className:"relative group",children:[(0,f.jsx)("img",{src:O||"/placeholder.svg",alt:"Preview",className:"max-h-80 rounded-xl object-cover border-2 border-border"}),(0,f.jsx)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity rounded-xl flex items-center justify-center",children:(0,f.jsx)("p",{className:"text-white font-semibold",children:"Cambiar imagen"})})]}):(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)("div",{className:"mx-auto w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:(0,f.jsx)(m.Upload,{className:"h-10 w-10 text-primary"})}),(0,f.jsx)("p",{className:"text-base font-bold text-foreground mb-2",children:"Hacé clic para subir la portada"}),(0,f.jsx)("p",{className:"text-sm text-muted-foreground",children:"PNG, JPG o WEBP (máx. 5MB)"})]})})]})]}),(0,f.jsxs)("div",{className:"space-y-4",children:[(0,f.jsx)(k.Label,{htmlFor:"price",className:"text-lg font-bold text-foreground",children:"Precio (ARS) *"}),(0,f.jsx)(j.Input,{id:"price",type:"number",value:I,onChange:a=>{let b=a.target.value;65e3>=(Number.parseFloat(b)||0)?J(b):J("65000")},className:"text-base h-14 rounded-xl bg-card border-border text-lg font-semibold",min:"0",max:65e3,step:"100",required:!0,disabled:y}),(0,f.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Precio máximo permitido: $",65e3.toLocaleString()," ARS"]})]}),(0,f.jsxs)("div",{className:"space-y-4",children:[(0,f.jsxs)(k.Label,{htmlFor:"discount",className:"text-lg font-bold flex items-center gap-2 text-foreground",children:[(0,f.jsx)(s.Percent,{className:"h-5 w-5 text-primary"}),"Descuento (%)"]}),(0,f.jsx)(j.Input,{id:"discount",type:"number",placeholder:"0",value:K,onChange:a=>{L(Math.min(Number.parseFloat(a.target.value)||0,50).toString())},className:"text-base h-14 rounded-xl bg-card border-border text-lg font-semibold",min:"0",max:"50",step:"5",disabled:y}),(0,f.jsx)("p",{className:"text-sm text-muted-foreground",children:"Descuento máximo: 50%. Dejá en 0 para no aplicar descuento."})]}),U>0&&(0,f.jsxs)(l.Card,{className:"p-6 rounded-3xl border-border bg-accent/50",children:[(0,f.jsx)("h3",{className:"font-bold text-foreground mb-4 text-lg",children:"Resumen de Ganancia"}),(0,f.jsxs)("div",{className:"space-y-3 text-base",children:[(0,f.jsxs)("div",{className:"flex justify-between items-center",children:[(0,f.jsx)("span",{className:"text-muted-foreground",children:"Precio del pack:"}),(0,f.jsxs)("span",{className:"font-bold text-foreground text-lg",children:["$",new Intl.NumberFormat("es-AR").format(U)," ARS"]})]}),V>0&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"flex justify-between items-center",children:[(0,f.jsxs)("span",{className:"text-muted-foreground",children:["Descuento aplicado (",V,"%):"]}),(0,f.jsxs)("span",{className:"font-bold text-orange-500 text-lg",children:["- $",new Intl.NumberFormat("es-AR").format(W)," ARS"]})]}),(0,f.jsxs)("div",{className:"flex justify-between items-center",children:[(0,f.jsx)("span",{className:"text-muted-foreground",children:"Precio final para el comprador:"}),(0,f.jsxs)("span",{className:"font-bold text-primary text-lg",children:["$",new Intl.NumberFormat("es-AR").format(X)," ARS"]})]})]}),(0,f.jsxs)("div",{className:"flex justify-between items-center",children:[(0,f.jsxs)("span",{className:"text-muted-foreground",children:["Comisión ARSOUND (",(100*Y).toFixed(0),"%):"]}),(0,f.jsxs)("span",{className:"font-bold text-destructive text-lg",children:["- $",new Intl.NumberFormat("es-AR").format(Z)," ARS"]})]}),(0,f.jsxs)("div",{className:"pt-3 border-t-2 border-border flex justify-between items-center",children:[(0,f.jsx)("span",{className:"font-bold text-foreground text-lg",children:"Vas a recibir:"}),(0,f.jsxs)("span",{className:"font-black text-primary text-3xl",children:["$",new Intl.NumberFormat("es-AR").format(X-Z)]})]})]})]}),(0,f.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[(0,f.jsx)(i.Button,{onClick:S,disabled:y||A,className:"flex-1 h-14 text-base font-bold rounded-xl gap-2",children:y?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.Loader2,{className:"h-5 w-5 animate-spin"}),"Guardando..."]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r,{className:"h-5 w-5"}),"Guardar Cambios"]})}),(0,f.jsx)(i.Button,{variant:"outline",onClick:()=>b.push(`/pack/${c}`),disabled:y||A,className:"h-14 text-base font-semibold rounded-xl bg-transparent",children:"Cancelar"})]}),(0,f.jsx)(l.Card,{className:"p-6 rounded-3xl border-2 border-destructive/20 bg-destructive/5",children:(0,f.jsxs)("div",{className:"flex items-start gap-4",children:[(0,f.jsx)("div",{className:"flex-shrink-0",children:(0,f.jsx)(t,{className:"h-6 w-6 text-destructive"})}),(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsx)("h3",{className:"font-bold text-foreground mb-2 text-lg",children:"Zona Peligrosa"}),(0,f.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Una vez que elimines este pack, no hay vuelta atrás. Por favor, asegurate antes de continuar."}),(0,f.jsxs)(aP,{children:[(0,f.jsx)(aQ,{asChild:!0,children:(0,f.jsx)(i.Button,{variant:"destructive",disabled:y||A,className:"gap-2 rounded-xl",children:A?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.Loader2,{className:"h-4 w-4 animate-spin"}),"Eliminando..."]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(q,{className:"h-4 w-4"}),"Eliminar Pack"]})})}),(0,f.jsxs)(aT,{children:[(0,f.jsxs)(aU,{children:[(0,f.jsx)(aW,{children:"¿Estás completamente seguro?"}),(0,f.jsxs)(aX,{children:['Esta acción no se puede deshacer. Esto eliminará permanentemente tu pack "',C.title,'" y todos los datos asociados a él.']})]}),(0,f.jsxs)(aV,{children:[(0,f.jsx)(aZ,{children:"Cancelar"}),(0,f.jsx)(aY,{onClick:T,className:"bg-destructive text-destructive-foreground",children:"Sí, eliminar pack"})]})]})]})]})]})})]})]})}),(0,f.jsx)(h.Footer,{})]})}a.s(["default",()=>a_],57181)}];

//# sourceMappingURL=app_pack_%5Bid%5D_edit_page_tsx_5fb6e4e2._.js.map