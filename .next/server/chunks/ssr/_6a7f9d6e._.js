module.exports=[87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},23421,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(72131),e=a.i(40695);let f=(0,a.i(70106).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var g=a.i(96221);function h(){let a=(0,c.useSearchParams)(),h=(0,c.useRouter)(),[i,j]=(0,d.useState)("processing"),[k,l]=(0,d.useState)("Procesando tu pago...");return(0,d.useEffect)(()=>{(async()=>{try{let b=a.get("collection_id"),c=a.get("external_reference"),d=a.get("collection_status"),e=a.get("payment_id");if(console.log("[v0] Payment success page loaded with params:",{collectionId:b,externalReference:c,collectionStatus:d,paymentId:e}),"approved"!==d){j("error"),l("El pago fue rechazado o aún está pendiente");return}await new Promise(a=>setTimeout(a,2e3)),c?.includes("plan_")?(j("success"),l("¡Plan actualizado exitosamente! Redirigiendo..."),setTimeout(()=>h.push("/profile"),3e3)):c?.includes("pack_")?(j("success"),l("¡Pack comprado exitosamente! Redirigiendo..."),setTimeout(()=>h.push("/profile"),3e3)):(j("error"),l("No se pudo identificar el tipo de compra"))}catch(a){console.error("[v0] Error processing payment:",a),j("error"),l("Hubo un error procesando tu pago. Por favor contacta a soporte.")}})()},[a,h]),(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-background to-muted p-4",children:(0,b.jsx)("div",{className:"w-full max-w-md",children:(0,b.jsxs)("div",{className:"bg-card rounded-lg shadow-lg p-8 text-center",children:["processing"===i&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Loader2,{className:"w-16 h-16 mx-auto mb-4 text-primary animate-spin"}),(0,b.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Procesando"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:k})]}),"success"===i&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f,{className:"w-16 h-16 mx-auto mb-4 text-green-500"}),(0,b.jsx)("h1",{className:"text-2xl font-bold mb-2 text-green-600",children:"¡Éxito!"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:k}),(0,b.jsx)(e.Button,{onClick:()=>h.push("/profile"),className:"w-full",children:"Ir a mi perfil"})]}),"error"===i&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 text-red-500 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-4xl",children:"✕"})}),(0,b.jsx)("h1",{className:"text-2xl font-bold mb-2 text-red-600",children:"Error"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:k}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>h.back(),className:"flex-1",children:"Volver"}),(0,b.jsx)(e.Button,{onClick:()=>h.push("/profile"),className:"flex-1",children:"Mi perfil"})]})]})]})})})}a.s(["default",()=>h],23421)}];

//# sourceMappingURL=_6a7f9d6e._.js.map